<html lang="es"><head>







</head></html> <button class="btn btn-secondary" onclick="upsellAnalysis()" style="width: 100%; justify-content: flex-start;">
<i data-lucide="trending-up" style="width: 18px; height: 18px;"></i>
<span style="flex: 1; text-align: left;">Análisis Upsell</span>
</button>
<button class="btn btn-secondary" onclick="renewalForecast()" style="width: 100%; justify-content: flex-start;">
<i data-lucide="calendar-check" style="width: 18px; height: 18px;"></i>
<span style="flex: 1; text-align: left;">Renovaciones</span>
</button>
<button class="btn btn-secondary" onclick="competitorAnalysis()" style="width: 100%; justify-content: flex-start;">
<i data-lucide="shield" style="width: 18px; height: 18px;"></i>
<span style="flex: 1; text-align: left;">Análisis Competencia</span>
</button>





<!-- DEALS/OPPORTUNITIES TAB -->
<div class="crm-tab-content hidden" id="crm-deals">
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-xl);">
<div>
<h3 style="font-size: var(--font-size-2xl); font-weight: 800; color: var(--text-primary);">Pipeline de Oportunidades</h3>
<p style="color: var(--text-secondary);">Gestión avanzada del proceso de ventas</p>
</div>
<div style="display: flex; gap: var(--space-md);">
<button class="btn btn-secondary" onclick="forecastAnalysis()">
<i data-lucide="crystal-ball" style="width: 18px; height: 18px;"></i>
                        Forecast AI
                    </button>
<button class="btn btn-secondary" onclick="pipelineSettings()">
<i data-lucide="settings" style="width: 18px; height: 18px;"></i>
                        Pipeline Config
                    </button>
<button class="btn btn-primary" onclick="showNewDealModal()">
<i data-lucide="plus" style="width: 18px; height: 18px;"></i>
                        Nueva Oportunidad
                    </button>
</div>
</div>
<!-- Deal Statistics -->
<div class="grid grid-cols-4" style="margin-bottom: var(--space-2xl);">
<div class="stat-card">
<div class="stat-header">
<div class="stat-content">
<h3>Pipeline Total</h3>
<p>€3.2M</p>
<div class="stat-trend stat-trend-positive">
<i data-lucide="trending-up" style="width: 16px; height: 16px;"></i>
<span>+18% vs trimestre anterior</span>
</div>
</div>
<div class="stat-icon" style="background: var(--bg-sidebar-active);">
<i data-lucide="euro" style="width: 28px; height: 28px;"></i>
</div>
</div>
</div>
<div class="stat-card">
<div class="stat-header">
<div class="stat-content">
<h3>Deals Activos</h3>
<p>189</p>
<div class="stat-trend stat-trend-positive">
<i data-lucide="handshake" style="width: 16px; height: 16px;"></i>
<span>+23 nuevas este mes</span>
</div>
</div>
<div class="stat-icon" style="background: linear-gradient(135deg, var(--mep-info), #1D4ED8);">
<i data-lucide="handshake" style="width: 28px; height: 28px;"></i>
</div>
</div>
</div>
<div class="stat-card">
<div class="stat-header">
<div class="stat-content">
<h3>Win Rate</h3>
<p>73.2%</p>
<div class="stat-trend stat-trend-positive">
<i data-lucide="target" style="width: 16px; height: 16px;"></i>
<span>+8.4% mejora anual</span>
</div>
</div>
<div class="stat-icon" style="background: linear-gradient(135deg, var(--mep-success), #047857);">
<i data-lucide="award" style="width: 28px; height: 28px;"></i>
</div>
</div>
</div>
<div class="stat-card">
<div class="stat-header">
<div class="stat-content">
<h3>Ciclo Promedio</h3>
<p>47 días</p>
<div class="stat-trend stat-trend-positive">
<i data-lucide="clock" style="width: 16px; height: 16px;"></i>
<span>-12 días vs año anterior</span>
</div>
</div>
<div class="stat-icon" style="background: linear-gradient(135deg, var(--mep-warning), #EA580C);">
<i data-lucide="timer" style="width: 28px; height: 28px;"></i>
</div>
</div>
</div>
</div>
<!-- Advanced Pipeline Management -->
<div class="card" style="margin-bottom: var(--space-2xl);">
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-xl);">
<h4 style="font-weight: 700; color: var(--text-primary); display: flex; align-items: center; gap: var(--space-sm);">
<i data-lucide="git-branch" style="width: 20px; height: 20px; color: var(--mep-primary-500);"></i>
                        Sales Pipeline - Vista Kanban
                    </h4>
<div style="display: flex; gap: var(--space-md);">
<select style="padding: var(--space-sm) var(--space-md); border: 2px solid var(--border-primary); border-radius: var(--radius-lg); background: var(--bg-surface); color: var(--text-primary);">
<option value="all">Todos los vendedores</option>
<option value="ana">Ana López</option>
<option value="carlos">Carlos Gómez</option>
<option value="maria">María Rodríguez</option>
</select>
<button class="btn btn-ghost" onclick="refreshPipeline()">
<i data-lucide="refresh-cw" style="width: 16px; height: 16px;"></i>
</button>
</div>
</div>
<!-- Kanban Pipeline -->
<div style="display: grid; grid-template-columns: repeat(5, 1fr); gap: var(--space-lg); overflow-x: auto; min-height: 600px;">
<!-- Prospecting Stage -->
<div class="pipeline-stage" style="background: var(--bg-tertiary); border-radius: var(--radius-xl); padding: var(--space-lg);">
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-lg);">
<h5 style="font-weight: 700; color: var(--text-primary);">Prospecting</h5>
<div style="display: flex; align-items: center; gap: var(--space-sm);">
<span class="badge" style="background: var(--mep-info); color: white;">47</span>
<span style="font-size: var(--font-size-sm); color: var(--text-secondary); font-weight: 600;">€890K</span>
</div>
</div>
<div class="space-y-4" style="max-height: 500px; overflow-y: auto;">
<div class="deal-card" draggable="true" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='var(--shadow-lg)'" style="background: var(--bg-surface); border: 1px solid var(--border-primary); border-radius: var(--radius-lg); padding: var(--space-md); cursor: grab; transition: all var(--transition-fast);">
<div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: var(--space-sm);">
<div style="display: flex; align-items: center; gap: var(--space-xs);">
<div style="width: 8px; height: 8px; background: var(--mep-success); border-radius: var(--radius-full);"></div>
<span style="font-size: var(--font-size-xs); font-weight: 700; color: var(--mep-success);">90%</span>
</div>
<button class="btn btn-ghost" style="padding: 4px;">
<i data-lucide="more-horizontal" style="width: 14px; height: 14px;"></i>
</button>
</div>
<h6 style="font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-sm);">Sistema ERP Enterprise</h6>
<p style="font-size: var(--font-size-sm); color: var(--text-secondary); margin-bottom: var(--space-sm);">TechSolutions Inc.</p>
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-sm);">
<span style="font-weight: 700; color: var(--mep-success); font-size: var(--font-size-lg);">€156K</span>
<span style="font-size: var(--font-size-xs); color: var(--text-tertiary);">15 Jun</span>
</div>
<div style="display: flex; justify-content: space-between; align-items: center;">
<div style="display: flex; align-items: center; gap: var(--space-xs);">
<div class="user-avatar" style="width: 24px; height: 24px; font-size: var(--font-size-xs);">AL</div>
<span style="font-size: var(--font-size-xs); color: var(--text-secondary);">Ana López</span>
</div>
<div style="display: flex; gap: var(--space-xs);">
<i data-lucide="calendar" style="width: 12px; height: 12px; color: var(--mep-warning);" title="Reunión programada"></i>
<i data-lucide="file-text" style="width: 12px; height: 12px; color: var(--mep-info);" title="Propuesta enviada"></i>
</div>
</div>
</div>
<div class="deal-card" style="background: var(--bg-surface); border: 1px solid var(--border-primary); border-radius: var(--radius-lg); padding: var(--space-md); cursor: grab;">
<div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: var(--space-sm);">
<div style="display: flex; align-items: center; gap: var(--space-xs);">
<div style="width: 8px; height: 8px; background: var(--mep-warning); border-radius: var(--radius-full);"></div>
<span style="font-size: var(--font-size-xs); font-weight: 700; color: var(--mep-warning);">65%</span>
</div>
<button class="btn btn-ghost" style="padding: 4px;">
<i data-lucide="more-horizontal" style="width: 14px; height: 14px;"></i>
</button>
</div>
<h6 style="font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-sm);">Consultoría Digital</h6>
<p style="font-size: var(--font-size-sm); color: var(--text-secondary); margin-bottom: var(--space-sm);">Digital Ventures</p>
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-sm);">
<span style="font-weight: 700; color: var(--mep-success); font-size: var(--font-size-lg);">€89K</span>
<span style="font-size: var(--font-size-xs); color: var(--text-tertiary);">22 Jun</span>
</div>
<div style="display: flex; justify-content: space-between; align-items: center;">
<div style="display: flex; align-items: center; gap: var(--space-xs);">
<div class="user-avatar" style="width: 24px; height: 24px; font-size: var(--font-size-xs);">CG</div>
<span style="font-size: var(--font-size-xs); color: var(--text-secondary);">Carlos Gómez</span>
</div>
<div style="display: flex; gap: var(--space-xs);">
<i data-lucide="phone" style="width: 12px; height: 12px; color: var(--mep-success);" title="Última llamada"></i>
</div>
</div>
</div>
</div>
</div>
<!-- Qualification Stage -->
<div class="pipeline-stage" style="background: var(--bg-tertiary); border-radius: var(--radius-xl); padding: var(--space-lg);">
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-lg);">
<h5 style="font-weight: 700; color: var(--text-primary);">Qualification</h5>
<div style="display: flex; align-items: center; gap: var(--space-sm);">
<span class="badge" style="background: var(--mep-warning); color: white;">34</span>
<span style="font-size: var(--font-size-sm); color: var(--text-secondary); font-weight: 600;">€672K</span>
</div>
</div>
<!-- Deal cards for qualification stage -->
</div>
<!-- Proposal Stage -->
<div class="pipeline-stage" style="background: var(--bg-tertiary); border-radius: var(--radius-xl); padding: var(--space-lg);">
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-lg);">
<h5 style="font-weight: 700; color: var(--text-primary);">Proposal</h5>
<div style="display: flex; align-items: center; gap: var(--space-sm);">
<span class="badge" style="background: #8B5CF6; color: white;">28</span>
<span style="font-size: var(--font-size-sm); color: var(--text-secondary); font-weight: 600;">€534K</span>
</div>
</div>
<!-- Deal cards for proposal stage -->
</div>
<!-- Negotiation Stage -->
<div class="pipeline-stage" style="background: var(--bg-tertiary); border-radius: var(--radius-xl); padding: var(--space-lg);">
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-lg);">
<h5 style="font-weight: 700; color: var(--text-primary);">Negotiation</h5>
<div style="display: flex; align-items: center; gap: var(--space-sm);">
<span class="badge" style="background: var(--mep-success); color: white;">19</span>
<span style="font-size: var(--font-size-sm); color: var(--text-secondary); font-weight: 600;">€445K</span>
</div>
</div>
<!-- Deal cards for negotiation stage -->
</div>
<!-- Closed Won Stage -->
<div class="pipeline-stage" style="background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(6, 78, 59, 0.05)); border: 1px solid rgba(16, 185, 129, 0.2); border-radius: var(--radius-xl); padding: var(--space-lg);">
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-lg);">
<h5 style="font-weight: 700; color: var(--mep-success);">Closed Won</h5>
<div style="display: flex; align-items: center; gap: var(--space-sm);">
<span class="badge badge-success">15</span>
<span style="font-size: var(--font-size-sm); color: var(--mep-success); font-weight: 700;">€387K</span>
</div>
</div>
<!-- Deal cards for closed won -->
</div>
</div>
</div>
<!-- Deal Forecast & Analytics -->
<div class="grid" style="grid-template-columns: 2fr 1fr; gap: var(--space-2xl);">
<div class="card">
<h4 style="font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-xl); display: flex; align-items: center; gap: var(--space-sm);">
<i data-lucide="trending-up" style="width: 20px; height: 20px; color: var(--mep-primary-500);"></i>
                        Sales Forecast - Próximos 6 meses
                    </h4>
<!-- Forecast Chart -->
<div style="height: 300px; background: var(--bg-tertiary); border-radius: var(--radius-xl); padding: var(--space-xl); position: relative;">
<div style="display: flex; align-items: end; justify-content: space-between; height: 100%; padding: 20px 0;">
<div style="display: flex; flex-direction: column; align-items: center; gap: var(--space-sm);">
<div style="height: 65%; width: 32px; background: var(--mep-primary-500); border-radius: var(--radius-sm);"></div>
<span style="font-size: var(--font-size-xs); color: var(--text-secondary);">Jun<br/>€387K</span>
</div>
<div style="display: flex; flex-direction: column; align-items: center; gap: var(--space-sm);">
<div style="height: 78%; width: 32px; background: linear-gradient(to top, var(--mep-info), #1D4ED8); border-radius: var(--radius-sm);"></div>
<span style="font-size: var(--font-size-xs); color: var(--text-secondary);">Jul<br/>€456K</span>
</div>
<div style="display: flex; flex-direction: column; align-items: center; gap: var(--space-sm);">
<div style="height: 85%; width: 32px; background: linear-gradient(to top, var(--mep-success), #047857); border-radius: var(--radius-sm);"></div>
<span style="font-size: var(--font-size-xs); color: var(--text-secondary);">Ago<br/>€512K</span>
</div>
<div style="display: flex; flex-direction: column; align-items: center; gap: var(--space-sm);">
<div style="height: 92%; width: 32px; background: linear-gradient(to top, var(--mep-warning), #EA580C); border-radius: var(--radius-sm);"></div>
<span style="font-size: var(--font-size-xs); color: var(--text-secondary);">Sep<br/>€578K</span>
</div>
<div style="display: flex; flex-direction: column; align-items: center; gap: var(--space-sm);">
<div style="height: 100%; width: 32px; background: linear-gradient(to top, #8B5CF6, #7C3AED); border-radius: var(--radius-sm); box-shadow: 0 0 20px rgba(139, 92, 246, 0.3);"></div>
<span style="font-size: var(--font-size-xs); color: var(--text-secondary);">Oct<br/>€634K</span>
</div>
<div style="display: flex; flex-direction: column; align-items: center; gap: var(--space-sm);">
<div style="height: 88%; width: 32px; background: linear-gradient(to top, var(--mep-primary-500), var(--mep-primary-400)); border-radius: var(--radius-sm);"></div>
<span style="font-size: var(--font-size-xs); color: var(--text-secondary);">Nov<br/>€567K</span>
</div>
</div>
<!-- Forecast Confidence -->
<div style="position: absolute; top: var(--space-md); right: var(--space-md); background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(10px); padding: var(--space-md); border-radius: var(--radius-lg); border: 1px solid var(--border-primary);">
<div style="font-size: var(--font-size-sm); font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-sm);">Confianza del Forecast</div>
<div style="display: flex; align-items: center; gap: var(--space-sm);">
<div style="width: 40px; height: 6px; background: var(--bg-tertiary); border-radius: var(--radius-full); overflow: hidden;">
<div style="width: 87%; height: 100%; background: var(--mep-success); border-radius: var(--radius-full);"></div>
</div>
<span style="font-size: var(--font-size-sm); font-weight: 700; color: var(--mep-success);">87%</span>
</div>
</div>
</div>
<!-- Forecast Insights -->
<div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: var(--space-lg); margin-top: var(--space-xl);">
<div style="text-align: center; padding: var(--space-lg); background: var(--bg-tertiary); border-radius: var(--radius-xl);">
<div style="font-size: var(--font-size-2xl); font-weight: 900; color: var(--mep-success); margin-bottom: var(--space-sm);">€3.1M</div>
<div style="font-size: var(--font-size-sm); color: var(--text-secondary); font-weight: 600;">Total Pipeline</div>
<div style="font-size: var(--font-size-xs); color: var(--mep-success); margin-top: var(--space-xs);">87% confianza</div>
</div>
<div style="text-align: center; padding: var(--space-lg); background: var(--bg-tertiary); border-radius: var(--radius-xl);">
<div style="font-size: var(--font-size-2xl); font-weight: 900; color: var(--mep-info); margin-bottom: var(--space-sm);">€1.8M</div>
<div style="font-size: var(--font-size-sm); color: var(--text-secondary); font-weight: 600;">Weighted Pipeline</div>
<div style="font-size: var(--font-size-xs); color: var(--mep-info); margin-top: var(--space-xs);">Por probabilidad</div>
</div>
<div style="text-align: center; padding: var(--space-lg); background: var(--bg-tertiary); border-radius: var(--radius-xl);">
<div style="font-size: var(--font-size-2xl); font-weight: 900; color: var(--mep-warning); margin-bottom: var(--space-sm);">€523K</div>
<div style="font-size: var(--font-size-sm); color: var(--text-secondary); font-weight: 600;">Best Case Q4</div>
<div style="font-size: var(--font-size-xs); color: var(--mep-warning); margin-top: var(--space-xs);">Escenario optimista</div>
</div>
</div>
</div>
<!-- Deal Insights Sidebar -->
<div class="space-y-6">
<!-- Top Deals -->
<div class="card">
<h4 style="font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-lg); display: flex; align-items: center; gap: var(--space-sm);">
<i data-lucide="trophy" style="width: 20px; height: 20px; color: var(--mep-warning);"></i>
                            Top Deals
                        </h4>
<div class="space-y-4">
<div style="padding: var(--space-md); border: 1px solid var(--border-primary); border-radius: var(--radius-lg); position: relative;">
<div style="position: absolute; left: 0; top: 0; width: 4px; height: 100%; background: var(--mep-success); border-radius: var(--radius-lg) 0 0 var(--radius-lg);"></div>
<div style="margin-left: var(--space-md);">
<div style="font-weight: 600; color: var(--text-primary); margin-bottom: 4px;">Sistema ERP Enterprise</div>
<div style="font-size: var(--font-size-sm); color: var(--text-secondary); margin-bottom: 4px;">TechSolutions Inc.</div>
<div style="display: flex; justify-content: space-between; align-items: center;">
<span style="font-weight: 700; color: var(--mep-success);">€156K</span>
<span style="font-size: var(--font-size-xs); background: rgba(16, 185, 129, 0.1); color: var(--mep-success); padding: 2px 8px; border-radius: var(--radius-full); font-weight: 600;">90%</span>
</div>
</div>
</div>
<div style="padding: var(--space-md); border: 1px solid var(--border-primary); border-radius: var(--radius-lg); position: relative;">
<div style="position: absolute; left: 0; top: 0; width: 4px; height: 100%; background: var(--mep-info); border-radius: var(--radius-lg) 0 0 var(--radius-lg);"></div>
<div style="margin-left: var(--space-md);">
<div style="font-weight: 600; color: var(--text-primary); margin-bottom: 4px;">Consultoría Digital</div>
<div style="font-size: var(--font-size-sm); color: var(--text-secondary); margin-bottom: 4px;">Digital Ventures</div>
<div style="display: flex; justify-content: space-between; align-items: center;">
<span style="font-weight: 700; color: var(--mep-success);">€89K</span>
<span style="font-size: var(--font-size-xs); background: rgba(59, 130, 246, 0.1); color: var(--mep-info); padding: 2px 8px; border-radius: var(--radius-full); font-weight: 600;">75%</span>
</div>
</div>
</div>
<div style="
    padding: var(--space-md);
    border: 1px solid var(--border-primary);
    border-radius: var(--radius-lg);
    position: relative;
">
<!-- Indicador lateral -->
<div style="
      position: absolute;
      left: 0;
      top: 0;
      width: 4px;
      height: 100%;
      background: var(--mep-warning);
      border-radius: var(--radius-lg) 0 0 var(--radius-lg);
  "></div>
<div style="margin-left: var(--space-md);">
<!-- Título o subtítulo del CRM -->
<div style="
        font-weight: 600;
        font-size: var(--font-size-base);
        color: var(--text-primary);
        margin-bottom: var(--space-sm);
    ">
      Gestión de Contactos
    </div>
<!-- Paginación -->
<div style="
        display: flex;
        align-items: center;
        gap: var(--space-sm);
    ">
<button class="btn btn-ghost" disabled="" style="opacity: 0.5;">
<i data-lucide="chevron-left" style="width: 16px; height: 16px;"></i>
        Anterior
      </button>
<button class="btn btn-ghost" style="background: var(--bg-sidebar-active); color: var(--text-on-primary);">
        1
      </button>
<button class="btn btn-ghost">2</button>
<button class="btn btn-ghost">3</button>
<span style="color: var(--text-tertiary);">…</span>
<button class="btn btn-ghost">114</button>
<button class="btn btn-ghost">
        Siguiente
        <i data-lucide="chevron-right" style="width: 16px; height: 16px;"></i>
</button>
</div>
</div>
</div>
</div>
<!-- COMPANIES TAB -->
<div class="crm-tab-content hidden" id="crm-companies">
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-xl);">
<div>
<h3 style="font-size: var(--font-size-2xl); font-weight: 800; color: var(--text-primary);">Empresas y Organizaciones</h3>
<p style="color: var(--text-secondary);">Gestión completa de cuentas corporativas</p>
</div>
<div style="display: flex; gap: var(--space-md);">
<button class="btn btn-secondary" onclick="companyAnalytics()">
<i data-lucide="bar-chart-3" style="width: 18px; height: 18px;"></i>
                        Analytics
                    </button>
<button class="btn btn-secondary" onclick="territoryManagement()">
<i data-lucide="map" style="width: 18px; height: 18px;"></i>
                        Territorios
                    </button>
<button class="btn btn-primary" onclick="showNewCompanyModal()">
<i data-lucide="building" style="width: 18px; height: 18px;"></i>
                        Nueva Empresa
                    </button>
</div>
</div>
<!-- Company Statistics -->
<div class="grid grid-cols-4" style="margin-bottom: var(--space-2xl);">
<div class="stat-card">
<div class="stat-header">
<div class="stat-content">
<h3>Total Empresas</h3>
<p>1,247</p>
<div class="stat-trend stat-trend-positive">
<i data-lucide="trending-up" style="width: 16px; height: 16px;"></i>
<span>+89 este trimestre</span>
</div>
</div>
<div class="stat-icon" style="background: linear-gradient(135deg, var(--mep-info), #1D4ED8);">
<i data-lucide="building" style="width: 28px; height: 28px;"></i>
</div>
</div>
</div>
<div class="stat-card">
<div class="stat-header">
<div class="stat-content">
<h3>Cuentas Clave</h3>
<p>156</p>
<div class="stat-trend stat-trend-positive">
<i data-lucide="star" style="width: 16px; height: 16px;"></i>
<span>Enterprise &amp; Strategic</span>
</div>
</div>
<div class="stat-icon" style="background: linear-gradient(135deg, var(--mep-warning), #EA580C);">
<i data-lucide="crown" style="width: 28px; height: 28px;"></i>
</div>
</div>
</div>
<div class="stat-card">
<div class="stat-header">
<div class="stat-content">
<h3>Revenue Total</h3>
<p>€4.2M</p>
<div class="stat-trend stat-trend-positive">
<i data-lucide="euro" style="width: 16px; height: 16px;"></i>
<span>+28% vs año anterior</span>
</div>
</div>
<div class="stat-icon" style="background: var(--bg-sidebar-active);">
<i data-lucide="trending-up" style="width: 28px; height: 28px;"></i>
</div>
</div>
</div>
<div class="stat-card">
<div class="stat-header">
<div class="stat-content">
<h3>Health Score</h3>
<p>8.7/10</p>
<div class="stat-trend stat-trend-positive">
<i data-lucide="heart" style="width: 16px; height: 16px;"></i>
<span>Salud promedio excelente</span>
</div>
</div>
<div class="stat-icon" style="background: linear-gradient(135deg, var(--mep-success), #047857);">
<i data-lucide="heart" style="width: 28px; height: 28px;"></i>
</div>
</div>
</div>
</div>
<!-- Company Management Grid -->
<div class="grid" style="grid-template-columns: 2fr 1fr; gap: var(--space-2xl);">
<!-- Main Companies Table -->
<div class="card">
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-lg);">
<h4 style="font-weight: 700; color: var(--text-primary);">Portfolio de Empresas</h4>
<div style="display: flex; gap: var(--space-sm);">
<button class="btn btn-ghost" id="company-grid-btn" onclick="switchCompanyView('grid')">
<i data-lucide="grid-3x3" style="width: 16px; height: 16px;"></i>
</button>
<button class="btn btn-ghost" id="company-list-btn" onclick="switchCompanyView('list')">
<i data-lucide="list" style="width: 16px; height: 16px;"></i>
</button>
</div>
</div>
<!-- Company Grid View -->
<div class="company-view active" id="company-grid-view">
<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: var(--space-lg);">
<!-- Enterprise Account -->
<div class="company-card" style="background: var(--bg-surface); border: 2px solid var(--mep-warning); border-radius: var(--radius-xl); padding: var(--space-lg); position: relative; overflow: hidden;">
<div style="position: absolute; top: 0; right: 0; background: var(--mep-warning); color: white; padding: 4px 12px; border-radius: 0 var(--radius-xl) 0 var(--radius-lg); font-size: var(--font-size-xs); font-weight: 700;">ENTERPRISE</div>
<div style="display: flex; align-items: center; gap: var(--space-md); margin-bottom: var(--space-lg);">
<div style="width: 56px; height: 56px; background: var(--bg-sidebar-active); border-radius: var(--radius-xl); display: flex; align-items: center; justify-content: center; color: white; font-weight: 800; font-size: var(--font-size-lg);">TS</div>
<div style="flex: 1;">
<h5 style="font-weight: 700; color: var(--text-primary); margin-bottom: 4px;">TechSolutions Inc.</h5>
<p style="font-size: var(--font-size-sm); color: var(--text-secondary);">Tecnología • Madrid</p>
</div>
</div>
<div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-lg); margin-bottom: var(--space-lg);">
<div>
<div style="font-size: var(--font-size-xs); color: var(--text-tertiary); margin-bottom: 4px;">REVENUE ANUAL</div>
<div style="font-weight: 800; color: var(--mep-success); font-size: var(--font-size-lg);">€456K</div>
</div>
<div>
<div style="font-size: var(--font-size-xs); color: var(--text-tertiary); margin-bottom: 4px;">EMPLEADOS</div>
<div style="font-weight: 700; color: var(--text-primary);">450-500</div>
</div>
</div>
<div style="margin-bottom: var(--space-lg);">
<div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
<span style="font-size: var(--font-size-xs); color: var(--text-secondary);">Health Score</span>
<span style="font-size: var(--font-size-xs); font-weight: 700; color: var(--mep-success);">9.2/10</span>
</div>
<div class="progress-bar" style="height: 6px;">
<div class="progress-fill" style="width: 92%; background: var(--mep-success);"></div>
</div>
</div>
<div style="display: flex; justify-content: space-between; align-items: center;">
<div style="display: flex; gap: var(--space-xs);">
<span class="badge badge-success">Activo</span>
<span class="badge" style="background: var(--mep-warning); color: white;">Key Account</span>
</div>
<div style="display: flex; gap: var(--space-xs);">
<button class="btn btn-ghost" onclick="viewCompany('techsolutions')" style="padding: 6px;">
<i data-lucide="external-link" style="width: 14px; height: 14px;"></i>
</button>
<button class="btn btn-ghost" onclick="companyDashboard('techsolutions')" style="padding: 6px;">
<i data-lucide="bar-chart-3" style="width: 14px; height: 14px;"></i>
</button>
</div>
</div>
</div>
<!-- Standard Account -->
<div class="company-card" onmouseout="this.style.borderColor='var(--border-primary)'" onmouseover="this.style.borderColor='var(--mep-primary-300)'" style="background: var(--bg-surface); border: 1px solid var(--border-primary); border-radius: var(--radius-xl); padding: var(--space-lg); transition: all var(--transition-fast);">
<div style="display: flex; align-items: center; gap: var(--space-md); margin-bottom: var(--space-lg);">
<div style="width: 56px; height: 56px; background: linear-gradient(135deg, var(--mep-info), #1D4ED8); border-radius: var(--radius-xl); display: flex; align-items: center; justify-content: center; color: white; font-weight: 800; font-size: var(--font-size-lg);">MS</div>
<div style="flex: 1;">
<h5 style="font-weight: 700; color: var(--text-primary); margin-bottom: 4px;">Manufacturas del Sur</h5>
<p style="font-size: var(--font-size-sm); color: var(--text-secondary);">Manufactura • Sevilla</p>
</div>
</div>
<div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-lg); margin-bottom: var(--space-lg);">
<div>
<div style="font-size: var(--font-size-xs); color: var(--text-tertiary); margin-bottom: 4px;">REVENUE ANUAL</div>
<div style="font-weight: 800; color: var(--mep-success); font-size: var(--font-size-lg);">€234K</div>
</div>
<div>
<div style="font-size: var(--font-size-xs); color: var(--text-tertiary); margin-bottom: 4px;">EMPLEADOS</div>
<div style="font-weight: 700; color: var(--text-primary);">150-200</div>
</div>
</div>
<div style="margin-bottom: var(--space-lg);">
<div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
<span style="font-size: var(--font-size-xs); color: var(--text-secondary);">Health Score</span>
<span style="font-size: var(--font-size-xs); font-weight: 700; color: var(--mep-info);">7.8/10</span>
</div>
<div class="progress-bar" style="height: 6px;">
<div class="progress-fill" style="width: 78%; background: var(--mep-info);"></div>
</div>
</div>
<div style="display: flex; justify-content: space-between; align-items: center;">
<div style="display: flex; gap: var(--space-xs);">
<span class="badge badge-primary">Activo</span>
<span class="badge badge-warning">Growth</span>
</div>
<div style="display: flex; gap: var(--space-xs);">
<button class="btn btn-ghost" onclick="viewCompany('manufacturas-sur')" style="padding: 6px;">
<i data-lucide="external-link" style="width: 14px; height: 14px;"></i>
</button>
<button class="btn btn-ghost" onclick="companyDashboard('manufacturas-sur')" style="padding: 6px;">
<i data-lucide="bar-chart-3" style="width: 14px; height: 14px;"></i>
</button>
</div>
</div>
</div>
<!-- Prospect Account -->
<div class="company-card" style="background: var(--bg-surface); border: 1px solid var(--mep-warning); border-radius: var(--radius-xl); padding: var(--space-lg); position: relative;">
<div style="position: absolute; top: 0; right: 0; background: rgba(245, 158, 11, 0.1); color: var(--mep-warning); padding: 4px 12px; border-radius: 0 var(--radius-xl) 0 var(--radius-lg); font-size: var(--font-size-xs); font-weight: 700;">PROSPECT</div>
<div style="display: flex; align-items: center; gap: var(--space-md); margin-bottom: var(--space-lg);">
<div style="width: 56px; height: 56px; background: linear-gradient(135deg, var(--mep-warning), #EA580C); border-radius: var(--radius-xl); display: flex; align-items: center; justify-content: center; color: white; font-weight: 800; font-size: var(--font-size-lg);">DV</div>
<div style="flex: 1;">
<h5 style="font-weight: 700; color: var(--text-primary); margin-bottom: 4px;">Digital Ventures</h5>
<p style="font-size: var(--font-size-sm); color: var(--text-secondary);">Consultora • Barcelona</p>
</div>
</div>
<div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-lg); margin-bottom: var(--space-lg);">
<div>
<div style="font-size: var(--font-size-xs); color: var(--text-tertiary); margin-bottom: 4px;">POTENCIAL</div>
<div style="font-weight: 800; color: var(--mep-warning); font-size: var(--font-size-lg);">€89K</div>
</div>
<div>
<div style="font-size: var(--font-size-xs); color: var(--text-tertiary); margin-bottom: 4px;">EMPLEADOS</div>
<div style="font-weight: 700; color: var(--text-primary);">50-100</div>
</div>
</div>
<div style="margin-bottom: var(--space-lg);">
<div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
<span style="font-size: var(--font-size-xs); color: var(--text-secondary);">Interest Score</span>
<span style="font-size: var(--font-size-xs); font-weight: 700; color: var(--mep-warning);">8.5/10</span>
</div>
<div class="progress-bar" style="height: 6px;">
<div class="progress-fill" style="width: 85%; background: var(--mep-warning);"></div>
</div>
</div>
<div style="display: flex; justify-content: space-between; align-items: center;">
<div style="display: flex; gap: var(--space-xs);">
<span class="badge badge-warning">Prospect</span>
<span class="badge" style="background: #8B5CF6; color: white;">Hot</span>
</div>
<div style="display: flex; gap: var(--space-xs);">
<button class="btn btn-ghost" onclick="viewCompany('digital-ventures')" style="padding: 6px;">
<i data-lucide="external-link" style="width: 14px; height: 14px;"></i>
</button>
<button class="btn btn-ghost" onclick="convertProspect('digital-ventures')" style="padding: 6px;">
<i data-lucide="arrow-right" style="width: 14px; height: 14px;"></i>
</button>
</div>
</div>
</div>
</div>
</div>
<!-- Company List View -->
<div class="company-view hidden" id="company-list-view">
<!-- Table view similar to contacts but for companies -->
<div style="overflow-x: auto;">
<table style="width: 100%; border-collapse: collapse;">
<!-- Table header and rows for companies -->
</table>
</div>
</div>
</div>
<!-- Company Analytics Sidebar -->
<div class="space-y-6">
<!-- Industry Distribution -->
<div class="card">
<h4 style="font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-lg); display: flex; align-items: center; gap: var(--space-sm);">
<i data-lucide="pie-chart" style="width: 20px; height: 20px; color: var(--mep-primary-500);"></i>
                            Por Industria
                        </h4>
<div class="space-y-4">
<div style="display: flex; justify-content: space-between; align-items: center;">
<div style="display: flex; align-items: center; gap: var(--space-sm);">
<div style="width: 16px; height: 16px; background: var(--mep-primary-500); border-radius: var(--radius-sm);"></div>
<span style="color: var(--text-primary); font-weight: 600;">Tecnología</span>
</div>
<div style="text-align: right;">
<div style="font-weight: 700; color: var(--text-primary);">456</div>
<div style="font-size: var(--font-size-xs); color: var(--text-secondary);">36.6%</div>
</div>
</div>
<div style="display: flex; justify-content: space-between; align-items: center;">
<div style="display: flex; align-items: center; gap: var(--space-sm);">
<div style="width: 16px; height: 16px; background: var(--mep-info); border-radius: var(--radius-sm);"></div>
<span style="color: var(--text-primary); font-weight: 600;">Manufactura</span>
</div>
<div style="text-align: right;">
<div style="font-weight: 700; color: var(--text-primary);">289</div>
<div style="font-size: var(--font-size-xs); color: var(--text-secondary);">23.2%</div>
</div>
</div>
<div style="display: flex; justify-content: space-between; align-items: center;">
<div style="display: flex; align-items: center; gap: var(--space-sm);">
<div style="width: 16px; height: 16px; background: var(--mep-warning); border-radius: var(--radius-sm);"></div>
<span style="color: var(--text-primary); font-weight: 600;">Servicios</span>
</div>
<div style="text-align: right;">
<div style="font-weight: 700; color: var(--text-primary);">234</div>
<div style="font-size: var(--font-size-xs); color: var(--text-secondary);">18.8%</div>
</div>
</div>
<div style="display: flex; justify-content: space-between; align-items: center;">
<div style="display: flex; align-items: center; gap: var(--space-sm);">
<div style="width: 16px; height: 16px; background: var(--mep-success); border-radius: var(--radius-sm);"></div>
<span style="color: var(--text-primary); font-weight: 600;">Retail</span>
</div>
<div style="text-align: right;">
<div style="font-weight: 700; color: var(--text-primary);">167</div>
<div style="font-size: var(--font-size-xs); color: var(--text-secondary);">13.4%</div>
</div>
</div>
<div style="display: flex; justify-content: space-between; align-items: center;">
<div style="display: flex; align-items: center; gap: var(--space-sm);">
<div style="width: 16px; height: 16px; background: #8B5CF6; border-radius: var(--radius-sm);"></div>
<span style="color: var(--text-primary); font-weight: 600;">Otros</span>
</div>
<div style="text-align: right;">
<div style="font-weight: 700; color: var(--text-primary);">101</div>
<div style="font-size: var(--font-size-xs); color: var(--text-secondary);">8.1%</div>
</div>
</div>
</div>
</div>
<!-- Account Health Monitor -->
<div class="card">
<h4 style="font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-lg); display: flex; align-items: center; gap: var(--space-sm);">
<i data-lucide="heart-pulse" style="width: 20px; height: 20px; color: var(--mep-success);"></i>
                            Health Monitor
                        </h4>
<div class="space-y-4">
<div style="padding: var(--space-md); background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(6, 78, 59, 0.05)); border: 1px solid rgba(16, 185, 129, 0.2); border-radius: var(--radius-lg);">
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-sm);">
<span style="font-weight: 600; color: var(--mep-success);">Excelente (9-10)</span>
<span style="font-weight: 700; color: var(--mep-success);">234</span>
</div>
<div class="progress-bar" style="height: 4px;">
<div class="progress-fill" style="width: 45%; background: var(--mep-success);"></div>
</div>
</div>
<div style="padding: var(--space-md); background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(29, 78, 216, 0.05)); border: 1px solid rgba(59, 130, 246, 0.2); border-radius: var(--radius-lg);">
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-sm);">
<span style="font-weight: 600; color: var(--mep-info);">Bueno (7-8)</span>
<span style="font-weight: 700; color: var(--mep-info);">189</span>
</div>
<div class="progress-bar" style="height: 4px;">
<div class="progress-fill" style="width: 36%; background: var(--mep-info);"></div>
</div>
</div>
<div style="padding: var(--space-md); background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(234, 88, 12, 0.05)); border: 1px solid rgba(245, 158, 11, 0.2); border-radius: var(--radius-lg);">
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-sm);">
<span style="font-weight: 600; color: var(--mep-warning);">Regular (5-6)</span>
<span style="font-weight: 700; color: var(--mep-warning);">67</span>
</div>
<div class="progress-bar" style="height: 4px;">
<div class="progress-fill" style="width: 13%; background: var(--mep-warning);"></div>
</div>
</div>
<div style="padding: var(--space-md); background: linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(220, 38, 38, 0.05)); border: 1px solid rgba(239, 68, 68, 0.2); border-radius: var(--radius-lg);">
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-sm);">
<span style="font-weight: 600; color: var(--mep-error);">En Riesgo (0-4)</span>
<span style="font-weight: 700; color: var(--mep-error);">23</span>
</div>
<div class="progress-bar" style="height: 4px;">
<div class="progress-fill" style="width: 4%; background: var(--mep-error);"></div>
</div>
</div>
</div>
</div>
<!-- Quick Actions for Companies -->
<div class="card">
<h4 style="font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-lg);">Acciones Rápidas</h4>
<div class="space-y-3">
<button class="btn btn-secondary" onclick="accountReview()" style="width: 100%; justify-content: flex-start;">
<i data-lucide="search" style="width: 18px; height: 18px;"></i>
<span style="flex: 1; text-align: left;">Account Review</span>
</button>
<button class="btn btn-secondary" onclick="upsellAnalysis()" style="width: 100%; justify-content: flex-start;">
<i data-lucide="trending-up" style="width: 18px; height: 18px;"></i>
<span <td="" style="padding: var(--space-md); border-bottom: 1px solid var(--border-primary);">
<div style="display: flex; align-items: center; gap: var(--space-sm);">
<div style="width: 24px; height: 24px; background: linear-gradient(135deg, var(--mep-info), #1D4ED8); border-radius: var(--radius-full); display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: var(--font-size-xs);">CG</div>
<span style="font-size: var(--font-size-sm); color: var(--text-primary);">Carlos Gómez</span>
</div>

<td style="padding: var(--space-md); border-bottom: 1px solid var(--border-primary);">
<div style="display: flex; align-items: center; gap: var(--space-xs);">
<div style="width: 8px; height: 8px; background: var(--mep-info); border-radius: var(--radius-full);"></div>
<span style="color: var(--mep-info); font-weight: 600; font-size: var(--font-size-sm);">Calificado</span>
</div>
</td>
<td style="padding: var(--space-md); border-bottom: 1px solid var(--border-primary); text-align: center;">
<div style="display: flex; gap: var(--space-xs); justify-content: center;">
<button class="btn btn-ghost" onclick="viewLead('megasoft')" style="padding: 6px;">
<i data-lucide="eye" style="width: 14px; height: 14px;"></i>
</button>
<button class="btn btn-ghost" onclick="editLead('megasoft')" style="padding: 6px;">
<i data-lucide="edit-3" style="width: 14px; height: 14px;"></i>
</button>
<button class="btn btn-ghost" onclick="convertLead('megasoft')" style="padding: 6px;">
<i data-lucide="arrow-right" style="width: 14px; height: 14px;"></i>
</button>
</div>
</td>



</span></button></div>
</div>
<!-- Kanban View -->
<div class="lead-view hidden" id="lead-kanban-view">
<div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: var(--space-lg);">
<!-- New Leads -->
<div class="kanban-column" style="background: var(--bg-tertiary); padding: var(--space-lg); border-radius: var(--radius-xl);">
<h4 style="font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-lg); display: flex; align-items: center; justify-content: space-between;">
                                Nuevos
                                <span class="badge" style="background: var(--mep-info); color: white;">234</span>
</h4>
<div class="space-y-4">
<div class="kanban-lead" style="background: var(--bg-surface); padding: var(--space-md); border-radius: var(--radius-lg); border: 1px solid var(--border-primary); cursor: grab;">
<div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: var(--space-sm);">
<div style="display: flex; align-items: center; gap: var(--space-sm);">
<div style="width: 8px; height: 8px; background: var(--mep-success); border-radius: var(--radius-full);"></div>
<span style="font-size: var(--font-size-xs); font-weight: 700; color: var(--mep-success);">Score: 89</span>
</div>
<button class="btn btn-ghost" style="padding: 4px;">
<i data-lucide="more-horizontal" style="width: 16px; height: 16px;"></i>
</button>
</div>
<h5 style="font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-sm);">Digital Innovations S.L.</h5>
<p style="font-size: var(--font-size-sm); color: var(--text-secondary); margin-bottom: var(--space-md);">María García • Directora IT</p>
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-sm);">
<span style="font-size: var(--font-size-sm); font-weight: 700; color: var(--mep-success);">€45,000</span>
<span class="badge badge-primary">Website</span>
</div>
<div style="display: flex; justify-content: space-between; align-items: center;">
<div style="display: flex; align-items: center; gap: var(--space-xs); font-size: var(--font-size-xs); color: var(--text-tertiary);">
<i data-lucide="clock" style="width: 12px; height: 12px;"></i>
                                            hace 2 horas
                                        </div>
<div class="user-avatar" style="width: 24px; height: 24px; font-size: var(--font-size-xs);">AL</div>
</div>
</div>
<div class="kanban-lead" style="background: var(--bg-surface); padding: var(--space-md); border-radius: var(--radius-lg); border: 1px solid var(--border-primary); cursor: grab;">
<div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: var(--space-sm);">
<div style="display: flex; align-items: center; gap: var(--space-sm);">
<div style="width: 8px; height: 8px; background: var(--mep-warning); border-radius: var(--radius-full);"></div>
<span style="font-size: var(--font-size-xs); font-weight: 700; color: var(--mep-warning);">Score: 72</span>
</div>
<button class="btn btn-ghost" style="padding: 4px;">
<i data-lucide="more-horizontal" style="width: 16px; height: 16px;"></i>
</button>
</div>
<h5 style="font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-sm);">MegaSoft Solutions</h5>
<p style="font-size: var(--font-size-sm); color: var(--text-secondary); margin-bottom: var(--space-md);">Carlos Rodríguez • CTO</p>
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-sm);">
<span style="font-size: var(--font-size-sm); font-weight: 700; color: var(--mep-success);">€78,500</span>
<span class="badge" style="background: #8B5CF6; color: white;">Referido</span>
</div>
<div style="display: flex; justify-content: space-between; align-items: center;">
<div style="display: flex; align-items: center; gap: var(--space-xs); font-size: var(--font-size-xs); color: var(--text-tertiary);">
<i data-lucide="clock" style="width: 12px; height: 12px;"></i>
                                            hace 5 horas
                                        </div>
<div class="user-avatar" style="width: 24px; height: 24px; font-size: var(--font-size-xs);">CG</div>
</div>
</div>
</div>
</div>
<!-- Contacted -->
<div class="kanban-column" style="background: var(--bg-tertiary); padding: var(--space-lg); border-radius: var(--radius-xl);">
<h4 style="font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-lg); display: flex; align-items: center; justify-content: space-between;">
                                Contactados
                                <span class="badge" style="background: var(--mep-warning); color: white;">89</span>
</h4>
<!-- Kanban cards for contacted leads -->
</div>
<!-- Qualified -->
<div class="kanban-column" style="background: var(--bg-tertiary); padding: var(--space-lg); border-radius: var(--radius-xl);">
<h4 style="font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-lg); display: flex; align-items: center; justify-content: space-between;">
                                Calificados
                                <span class="badge" style="background: var(--mep-success); color: white;">67</span>
</h4>
<!-- Kanban cards for qualified leads -->
</div>
<!-- Converted -->
<div class="kanban-column" style="background: var(--bg-tertiary); padding: var(--space-lg); border-radius: var(--radius-xl);">
<h4 style="font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-lg); display: flex; align-items: center; justify-content: space-between;">
                                Convertidos
                                <span class="badge" style="background: var(--mep-primary-500); color: white;">45</span>
</h4>
<!-- Kanban cards for converted leads -->
</div>
</div>
</div>
<!-- Pipeline View -->
<div class="lead-view hidden" id="lead-pipeline-view">
<div style="background: var(--bg-tertiary); border-radius: var(--radius-xl); padding: var(--space-xl);">
<h4 style="font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-xl); text-align: center;">Pipeline de Leads - Vista Temporal</h4>
<!-- Pipeline Timeline -->
<div style="position: relative; height: 400px; overflow-x: auto;">
<!-- Timeline bars representing lead progression -->
<div style="display: flex; align-items: end; justify-content: space-between; height: 100%; padding: 20px 0;">
<div style="display: flex; flex-direction: column; align-items: center; gap: var(--space-md);">
<div style="height: 80%; width: 40px; background: linear-gradient(to top, var(--mep-info), #1D4ED8); border-radius: var(--radius-sm);"></div>
<span style="font-size: var(--font-size-xs); color: var(--text-secondary); text-align: center;">Ene<br/>234</span>
</div>
<div style="display: flex; flex-direction: column; align-items: center; gap: var(--space-md);">
<div style="height: 95%; width: 40px; background: linear-gradient(to top, var(--mep-primary-500), var(--mep-primary-400)); border-radius: var(--radius-sm);"></div>
<span style="font-size: var(--font-size-xs); color: var(--text-secondary); text-align: center;">Feb<br/>289</span>
</div>
<div style="display: flex; flex-direction: column; align-items: center; gap: var(--space-md);">
<div style="height: 70%; width: 40px; background: linear-gradient(to top, var(--mep-warning), #EA580C); border-radius: var(--radius-sm);"></div>
<span style="font-size: var(--font-size-xs); color: var(--text-secondary); text-align: center;">Mar<br/>198</span>
</div>
<div style="display: flex; flex-direction: column; align-items: center; gap: var(--space-md);">
<div style="height: 100%; width: 40px; background: linear-gradient(to top, var(--mep-success), #047857); border-radius: var(--radius-sm); box-shadow: 0 0 20px rgba(16, 185, 129, 0.3);"></div>
<span style="font-size: var(--font-size-xs); color: var(--text-secondary); text-align: center;">Abr<br/>312</span>
</div>
<div style="display: flex; flex-direction: column; align-items: center; gap: var(--space-md);">
<div style="height: 85%; width: 40px; background: linear-gradient(to top, #8B5CF6, #7C3AED); border-radius: var(--radius-sm);"></div>
<span style="font-size: var(--font-size-xs); color: var(--text-secondary); text-align: center;">May<br/>267</span>
</div>
<div style="display: flex; flex-direction: column; align-items: center; gap: var(--space-md);">
<div style="height: 90%; width: 40px; background: linear-gradient(to top, var(--mep-info), #1D4ED8); border-radius: var(--radius-sm);"></div>
<span style="font-size: var(--font-size-xs); color: var(--text-secondary); text-align: center;">Jun<br/>284</span>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<!-- CONTACTS TAB -->
<div class="crm-tab-content hidden" id="crm-contacts">
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-xl);">
<div>
<h3 style="font-size: var(--font-size-2xl); font-weight: 800; color: var(--text-primary);">Base de Contactos</h3>
<p style="color: var(--text-secondary);">Gestión completa de contactos y comunicaciones</p>
</div>
<div style="display: flex; gap: var(--space-md);">
<button class="btn btn-secondary" onclick="importContacts()">
<i data-lucide="upload" style="width: 18px; height: 18px;"></i>
                        Importar
                    </button>
<button class="btn btn-secondary" onclick="exportContacts()">
<i data-lucide="download" style="width: 18px; height: 18px;"></i>
                        Exportar
                    </button>
<button class="btn btn-primary" onclick="showNewContactModal()">
<i data-lucide="user-plus" style="width: 18px; height: 18px;"></i>
                        Nuevo Contacto
                    </button>
</div>
</div>
<!-- Contact Statistics -->
<div class="grid grid-cols-4" style="margin-bottom: var(--space-2xl);">
<div class="stat-card">
<div class="stat-header">
<div class="stat-content">
<h3>Total Contactos</h3>
<p>2,847</p>
<div class="stat-trend stat-trend-positive">
<i data-lucide="trending-up" style="width: 16px; height: 16px;"></i>
<span>+234 este mes</span>
</div>
</div>
<div class="stat-icon" style="background: linear-gradient(135deg, var(--mep-info), #1D4ED8);">
<i data-lucide="users" style="width: 28px; height: 28px;"></i>
</div>
</div>
</div>
<div class="stat-card">
<div class="stat-header">
<div class="stat-content">
<h3>Activos</h3>
<p>2,145</p>
<div class="stat-trend stat-trend-positive">
<i data-lucide="activity" style="width: 16px; height: 16px;"></i>
<span>75.3% del total</span>
</div>
</div>
<div class="stat-icon" style="background: var(--bg-sidebar-active);">
<i data-lucide="user-check" style="width: 28px; height: 28px;"></i>
</div>
</div>
</div>
<div class="stat-card">
<div class="stat-header">
<div class="stat-content">
<h3>Engagement Rate</h3>
<p>68.4%</p>
<div class="stat-trend stat-trend-positive">
<i data-lucide="heart" style="width: 16px; height: 16px;"></i>
<span>+5.2% vs mes anterior</span>
</div>
</div>
<div class="stat-icon" style="background: linear-gradient(135deg, var(--mep-warning), #EA580C);">
<i data-lucide="heart" style="width: 28px; height: 28px;"></i>
</div>
</div>
</div>
<div class="stat-card">
<div class="stat-header">
<div class="stat-content">
<h3>Nuevos Hoy</h3>
<p>47</p>
<div class="stat-trend stat-trend-positive">
<i data-lucide="user-plus" style="width: 16px; height: 16px;"></i>
<span>+12 vs ayer</span>
</div>
</div>
<div class="stat-icon" style="background: linear-gradient(135deg, var(--mep-success), #047857);">
<i data-lucide="user-plus" style="width: 28px; height: 28px;"></i>
</div>
</div>
</div>
</div>
<!-- Advanced Contact Management -->
<div class="card">
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-lg);">
<div style="display: flex; gap: var(--space-md);">
<!-- Advanced Search -->
<div style="position: relative; min-width: 320px;">
<input placeholder="Buscar contactos..." style="width: 100%; padding: var(--space-md) var(--space-md) var(--space-md) 40px; border: 2px solid var(--border-primary); border-radius: var(--radius-lg); background: var(--bg-surface); color: var(--text-primary);" type="text"/>
<i data-lucide="search" style="position: absolute; left: var(--space-md); top: 50%; transform: translateY(-50%); width: 16px; height: 16px; color: var(--text-tertiary);"></i>
</div>
<!-- Filters -->
<select style="padding: var(--space-sm) var(--space-md); border: 2px solid var(--border-primary); border-radius: var(--radius-lg); background: var(--bg-surface); color: var(--text-primary);">
<option value="all">Todos los contactos</option>
<option value="customers">Clientes</option>
<option value="prospects">Prospects</option>
<option value="partners">Partners</option>
<option value="vendors">Proveedores</option>
</select>
<select style="padding: var(--space-sm) var(--space-md); border: 2px solid var(--border-primary); border-radius: var(--radius-lg); background: var(--bg-surface); color: var(--text-primary);">
<option value="all">Todas las ubicaciones</option>
<option value="madrid">Madrid</option>
<option value="barcelona">Barcelona</option>
<option value="andalucia">Andalucía</option>
<option value="valencia">Valencia</option>
</select>
</div>
<div style="display: flex; gap: var(--space-sm);">
<button class="btn btn-ghost" onclick="bulkActions()">
<i data-lucide="check-square" style="width: 18px; height: 18px;"></i>
                            Acciones en lote
                        </button>
<button class="btn btn-ghost" onclick="advancedFilters()">
<i data-lucide="sliders-horizontal" style="width: 18px; height: 18px;"></i>
                            Filtros avanzados
                        </button>
</div>
</div>
<!-- Contact Table with Advanced Features -->
<div style="overflow-x: auto;">
<table style="width: 100%; border-collapse: collapse;">
<thead>
<tr style="background: var(--bg-tertiary);">
<th style="padding: var(--space-md); text-align: left; font-weight: 700; border-bottom: 1px solid var(--border-primary);">
<input style="margin-right: var(--space-sm);" type="checkbox"/> Contacto
                                </th>
<th style="padding: var(--space-md); text-align: left; font-weight: 700; border-bottom: 1px solid var(--border-primary);">Empresa</th>
<th style="padding: var(--space-md); text-align: left; font-weight: 700; border-bottom: 1px solid var(--border-primary);">Rol</th>
<th style="padding: var(--space-md); text-align: left; font-weight: 700; border-bottom: 1px solid var(--border-primary);">Última Interacción</th>
<th style="padding: var(--space-md); text-align: left; font-weight: 700; border-bottom: 1px solid var(--border-primary);">Score</th>
<th style="padding: var(--space-md); text-align: left; font-weight: 700; border-bottom: 1px solid var(--border-primary);">Estado</th>
<th style="padding: var(--space-md); text-align: center; font-weight: 700; border-bottom: 1px solid var(--border-primary);">Acciones</th>
</tr>
</thead>
<tbody>
<tr onmouseout="this.style.background='transparent'" onmouseover="this.style.background='var(--bg-tertiary)'" style="transition: background-color var(--transition-fast);">
<td style="padding: var(--space-md); border-bottom: 1px solid var(--border-primary);">
<div style="display: flex; align-items: center; gap: var(--space-md);">
<input type="checkbox"/>
<div style="width: 48px; height: 48px; background: var(--bg-sidebar-active); border-radius: var(--radius-full); display: flex; align-items: center; justify-content: center; color: white; font-weight: 700;">MG</div>
<div>
<div style="font-weight: 600; color: var(--text-primary);">María García López</div>
<div style="font-size: var(--font-size-sm); color: var(--text-secondary);">maria.garcia@digitalinnovations.com</div>
<div style="font-size: var(--font-size-sm); color: var(--text-secondary);">+34 666 123 456</div>
</div>
</div>
</td>
<td style="padding: var(--space-md); border-bottom: 1px solid var(--border-primary);">
<div>
<div style="font-weight: 600; color: var(--text-primary);">Digital Innovations S.L.</div>
<div style="font-size: var(--font-size-sm); color: var(--text-secondary);">Tecnología</div>
</div>
</td>
<td style="padding: var(--space-md); border-bottom: 1px solid var(--border-primary);">
<span class="badge badge-primary">Directora IT</span>
</td>
<td style="padding: var(--space-md); border-bottom: 1px solid var(--border-primary);">
<div>
<div style="font-size: var(--font-size-sm); color: var(--text-primary); font-weight: 600;">Email enviado</div>
<div style="font-size: var(--font-size-xs); color: var(--text-tertiary);">hace 2 horas</div>
</div>
</td>
<td style="padding: var(--space-md); border-bottom: 1px solid var(--border-primary);">
<div style="display: flex; align-items: center; gap: var(--space-sm);">
<div style="width: 40px; height: 6px; background: var(--bg-tertiary); border-radius: var(--radius-full); overflow: hidden;">
<div style="width: 89%; height: 100%; background: var(--mep-success); border-radius: var(--radius-full);"></div>
</div>
<span style="font-weight: 700; color: var(--mep-success); font-size: var(--font-size-sm);">89</span>
</div>
</td>
<td style="padding: var(--space-md); border-bottom: 1px solid var(--border-primary);">
<div style="display: flex; align-items: center; gap: var(--space-xs);">
<div style="width: 8px; height: 8px; background: var(--mep-success); border-radius: var(--radius-full);"></div>
<span style="color: var(--mep-success); font-weight: 600; font-size: var(--font-size-sm);">Activo</span>
</div>
</td>
<td style="padding: var(--space-md); border-bottom: 1px solid var(--border-primary); text-align: center;">
<div style="display: flex; gap: var(--space-xs); justify-content: center;">
<button class="btn btn-ghost" onclick="viewContact('maria-garcia')" style="padding: 6px;">
<i data-lucide="eye" style="width: 14px; height: 14px;"></i>
</button>
<button class="btn btn-ghost" onclick="editContact('maria-garcia')" style="padding: 6px;">
<i data-lucide="edit-3" style="width: 14px; height: 14px;"></i>
</button>
<button class="btn btn-ghost" onclick="emailContact('maria-garcia')" style="padding: 6px;">
<i data-lucide="mail" style="width: 14px; height: 14px;"></i>
</button>
<button class="btn btn-ghost" onclick="callContact('maria-garcia')" style="padding: 6px;">
<i data-lucide="phone" style="width: 14px; height: 14px;"></i>
</button>
</div>
</td>
</tr>
<!-- More contact rows would go here -->
</tbody>
</table>
</div>
<!-- Advanced Pagination -->
<div style="display: flex; justify-content: space-between; align-items: center; margin-top: var(--space-lg);">
<div style="display: flex; align-items: center; gap: var(--space-md);">
<span style="color: var(--text-secondary); font-size: var(--font-size-sm);">Mostrando</span>
<select style="padding: var(--space-xs) var(--space-sm); border: 1px solid var(--border-primary); border-radius: var(--radius-md); background: var(--bg-surface); color: var(--text-primary);">
<option value="25">25</option>
<option selected="" value="50">50</option>
<option value="100">100</option>
<option value="250">250</option>
</select>
<span style="color: var(--text-secondary); font-size: var(--font-size-sm);">de 2,847 contactos</span>
</div>
<div style="display: flex; gap: var(--space-sm);">
<button class="btn btn-ghost" disabled="" style="opacity: 0.5;">
<!-- CRM ENTERPRISE COMPLETE MODULE - Todas las funcionalidades -->
<div class="module-content hidden" id="crm-module">
<div class="space-y-6">
<!-- CRM Navigation Tabs -->
<div class="flex items-center justify-between">
<div>
<h2 style="font-size: var(--font-size-3xl); font-weight: 800; color: var(--text-primary); margin-bottom: var(--space-xs);">CRM Enterprise Suite</h2>
<p style="color: var(--text-secondary); font-size: var(--font-size-lg); font-weight: 500;">Sistema completo de gestión de relaciones con clientes</p>
</div>
<div style="display: flex; gap: var(--space-md);">
<button class="btn btn-secondary" onclick="syncCRMData()">
<i data-lucide="refresh-cw" style="width: 18px; height: 18px;"></i>
                    Sincronizar
                </button>
<button class="btn btn-secondary" onclick="showGlobalSearch()">
<i data-lucide="search" style="width: 18px; height: 18px;"></i>
                    Búsqueda Global
                </button>
<button class="btn btn-primary" onclick="showQuickActions()">
<i data-lucide="zap" style="width: 18px; height: 18px;"></i>
                    Acciones Rápidas
                </button>
</div>
</div>
<!-- CRM Tabs Navigation -->
<div style="border-bottom: 2px solid var(--border-primary); margin-bottom: var(--space-xl);">
<div style="display: flex; gap: 0; overflow-x: auto;">
<button class="crm-tab active" data-tab="dashboard" onclick="switchCRMTab('dashboard')">
<i data-lucide="bar-chart-3" style="width: 18px; height: 18px;"></i>
                    Dashboard
                </button>
<button class="crm-tab" data-tab="leads" onclick="switchCRMTab('leads')">
<i data-lucide="user-plus" style="width: 18px; height: 18px;"></i>
                    Leads <span class="tab-badge">47</span>
</button>
<button class="crm-tab" data-tab="contacts" onclick="switchCRMTab('contacts')">
<i data-lucide="users" style="width: 18px; height: 18px;"></i>
                    Contactos <span class="tab-badge">1,247</span>
</button>
<button class="crm-tab" data-tab="companies" onclick="switchCRMTab('companies')">
<i data-lucide="building" style="width: 18px; height: 18px;"></i>
                    Empresas <span class="tab-badge">342</span>
</button>
<button class="crm-tab" data-tab="deals" onclick="switchCRMTab('deals')">
<i data-lucide="handshake" style="width: 18px; height: 18px;"></i>
                    Oportunidades <span class="tab-badge">89</span>
</button>
<button class="crm-tab" data-tab="activities" onclick="switchCRMTab('activities')">
<i data-lucide="calendar" style="width: 18px; height: 18px;"></i>
                    Actividades <span class="tab-badge">156</span>
</button>
<button class="crm-tab" data-tab="marketing" onclick="switchCRMTab('marketing')">
<i data-lucide="megaphone" style="width: 18px; height: 18px;"></i>
                    Marketing
                </button>
<button class="crm-tab" data-tab="sales" onclick="switchCRMTab('sales')">
<i data-lucide="trending-up" style="width: 18px; height: 18px;"></i>
                    Ventas
                </button>
<button class="crm-tab" data-tab="reports" onclick="switchCRMTab('reports')">
<i data-lucide="file-text" style="width: 18px; height: 18px;"></i>
                    Informes
                </button>
<button class="crm-tab" data-tab="automation" onclick="switchCRMTab('automation')">
<i data-lucide="bot" style="width: 18px; height: 18px;"></i>
                    Automatización
                </button>
<button class="crm-tab" data-tab="support" onclick="switchCRMTab('support')">
<i data-lucide="headphones" style="width: 18px; height: 18px;"></i>
                    Soporte
                </button>
</div>
</div>
<!-- DASHBOARD TAB -->
<div class="crm-tab-content active" id="crm-dashboard">
<!-- Executive KPI Dashboard -->
<div class="grid grid-cols-4" style="margin-bottom: var(--space-2xl);">
<div class="stat-card" onclick="drillDownCRM('revenue')" style="cursor: pointer;">
<div class="stat-header">
<div class="stat-content">
<h3>Revenue Pipeline</h3>
<p>€2,847,250</p>
<div class="stat-trend stat-trend-positive">
<i data-lucide="trending-up" style="width: 16px; height: 16px;"></i>
<span>+32.4% vs trimestre anterior</span>
</div>
</div>
<div class="stat-icon" style="background: var(--bg-sidebar-active);">
<i data-lucide="euro" style="width: 28px; height: 28px;"></i>
</div>
</div>
<div style="margin-top: var(--space-md);">
<div style="display: flex; justify-content: space-between; margin-bottom: 4px; font-size: var(--font-size-xs);">
<span style="color: var(--text-secondary);">Cierre Estimado</span>
<span style="color: var(--text-primary); font-weight: 600;">73.2%</span>
</div>
<div class="progress-bar" style="height: 6px;">
<div class="progress-fill" style="width: 73.2%;"></div>
</div>
</div>
</div>
<div class="stat-card" onclick="drillDownCRM('leads')" style="cursor: pointer;">
<div class="stat-header">
<div class="stat-content">
<h3>Leads Calificados</h3>
<p>1,342</p>
<div class="stat-trend stat-trend-positive">
<i data-lucide="users" style="width: 16px; height: 16px;"></i>
<span>+147 esta semana</span>
</div>
</div>
<div class="stat-icon" style="background: linear-gradient(135deg, var(--mep-info), #1D4ED8);">
<i data-lucide="target" style="width: 28px; height: 28px;"></i>
</div>
</div>
<div style="margin-top: var(--space-md);">
<div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: var(--space-sm); font-size: var(--font-size-xs);">
<div style="text-align: center;">
<div style="color: var(--mep-success); font-weight: 700;">456</div>
<div style="color: var(--text-tertiary);">Hot</div>
</div>
<div style="text-align: center;">
<div style="color: var(--mep-warning); font-weight: 700;">589</div>
<div style="color: var(--text-tertiary);">Warm</div>
</div>
<div style="text-align: center;">
<div style="color: var(--mep-error); font-weight: 700;">297</div>
<div style="color: var(--text-tertiary);">Cold</div>
</div>
</div>
</div>
</div>
<div class="stat-card" onclick="drillDownCRM('conversion')" style="cursor: pointer;">
<div class="stat-header">
<div class="stat-content">
<h3>Tasa Conversión</h3>
<p>28.7%</p>
<div class="stat-trend stat-trend-positive">
<i data-lucide="trending-up" style="width: 16px; height: 16px;"></i>
<span>+5.2% mejora mensual</span>
</div>
</div>
<div class="stat-icon" style="background: linear-gradient(135deg, var(--mep-success), #047857);">
<i data-lucide="percent" style="width: 28px; height: 28px;"></i>
</div>
</div>
<div style="margin-top: var(--space-md);">
<div style="display: flex; justify-content: space-between; font-size: var(--font-size-xs);">
<div style="text-align: center;">
<div style="color: var(--mep-success); font-weight: 700;">167</div>
<div style="color: var(--text-tertiary);">Cerrados</div>
</div>
<div style="text-align: center;">
<div style="color: var(--text-primary); font-weight: 700;">582</div>
<div style="color: var(--text-tertiary);">Intentos</div>
</div>
</div>
</div>
</div>
<div class="stat-card" onclick="drillDownCRM('satisfaction')" style="cursor: pointer;">
<div class="stat-header">
<div class="stat-content">
<h3>Customer Satisfaction</h3>
<p>4.8/5.0</p>
<div class="stat-trend stat-trend-positive">
<i data-lucide="star" style="width: 16px; height: 16px;"></i>
<span>+0.3 mejora trimestral</span>
</div>
</div>
<div class="stat-icon" style="background: linear-gradient(135deg, var(--mep-warning), #EA580C);">
<i data-lucide="heart" style="width: 28px; height: 28px;"></i>
</div>
</div>
<div style="margin-top: var(--space-md);">
<div style="display: flex; align-items: center; gap: var(--space-sm);">
<div style="flex: 1;">
<div style="font-size: var(--font-size-xs); color: var(--text-secondary); margin-bottom: 2px;">NPS Score</div>
<div class="progress-bar" style="height: 4px;">
<div class="progress-fill" style="width: 92%; background: linear-gradient(135deg, var(--mep-warning), #EA580C);"></div>
</div>
</div>
<div style="font-size: var(--font-size-sm); font-weight: 700; color: var(--mep-warning);">92</div>
</div>
</div>
</div>
</div>
<!-- Sales Funnel & Analytics -->
<div class="grid" style="grid-template-columns: 2fr 1fr; gap: var(--space-2xl); margin-bottom: var(--space-2xl);">
<div class="card">
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-xl);">
<h3 style="font-size: var(--font-size-xl); font-weight: 800; color: var(--text-primary);">Sales Funnel Analytics</h3>
<div style="display: flex; gap: var(--space-sm);">
<select style="padding: var(--space-sm) var(--space-md); border: 2px solid var(--border-primary); border-radius: var(--radius-lg); background: var(--bg-surface); color: var(--text-primary);">
<option value="week">Esta semana</option>
<option selected="" value="month">Este mes</option>
<option value="quarter">Trimestre</option>
<option value="year">Año</option>
</select>
<button class="btn btn-ghost" onclick="refreshDashboard()">
<i data-lucide="refresh-cw" style="width: 16px; height: 16px;"></i>
</button>
</div>
</div>
<!-- Interactive Funnel -->
<div style="position: relative; height: 350px; background: var(--bg-tertiary); border-radius: var(--radius-xl); padding: var(--space-xl); overflow: hidden;">
<div style="display: flex; flex-direction: column; justify-content: space-between; height: 100%; position: relative;">
<div class="funnel-stage" data-stage="prospects" onclick="drillDownStage('prospects')" onmouseout="unhighlightStage(this)" onmouseover="highlightStage(this)" style="position: relative; background: linear-gradient(135deg, var(--mep-info), #1D4ED8); height: 55px; border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: space-between; padding: 0 var(--space-lg); cursor: pointer; transition: all var(--transition-fast);">
<span style="color: white; font-weight: 700; font-size: var(--font-size-lg);">Prospects</span>
<div style="display: flex; align-items: center; gap: var(--space-md);">
<span style="color: white; font-weight: 700; font-size: var(--font-size-lg);">2,847</span>
<i data-lucide="chevron-right" style="width: 20px; height: 20px; color: rgba(255,255,255,0.7);"></i>
</div>
</div>
<div class="funnel-stage" data-stage="leads" onclick="drillDownStage('leads')" onmouseout="unhighlightStage(this)" onmouseover="highlightStage(this)" style="position: relative; background: linear-gradient(135deg, var(--mep-primary-500), var(--mep-primary-600)); height: 45px; border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: space-between; padding: 0 var(--space-lg); width: 85%; margin: 0 auto; cursor: pointer; transition: all var(--transition-fast);">
<span style="color: white; font-weight: 700;">Leads Calificados</span>
<div style="display: flex; align-items: center; gap: var(--space-md);">
<span style="color: white; font-weight: 700;">1,342</span>
<i data-lucide="chevron-right" style="width: 18px; height: 18px; color: rgba(255,255,255,0.7);"></i>
</div>
</div>
<div class="funnel-stage" data-stage="opportunities" onclick="drillDownStage('opportunities')" onmouseout="unhighlightStage(this)" onmouseover="highlightStage(this)" style="position: relative; background: linear-gradient(135deg, var(--mep-warning), #EA580C); height: 40px; border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: space-between; padding: 0 var(--space-lg); width: 65%; margin: 0 auto; cursor: pointer; transition: all var(--transition-fast);">
<span style="color: white; font-weight: 700;">Oportunidades</span>
<div style="display: flex; align-items: center; gap: var(--space-md);">
<span style="color: white; font-weight: 700;">456</span>
<i data-lucide="chevron-right" style="width: 16px; height: 16px; color: rgba(255,255,255,0.7);"></i>
</div>
</div>
<div class="funnel-stage" data-stage="proposals" onclick="drillDownStage('proposals')" onmouseout="unhighlightStage(this)" onmouseover="highlightStage(this)" style="position: relative; background: linear-gradient(135deg, #8B5CF6, #7C3AED); height: 35px; border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: space-between; padding: 0 var(--space-lg); width: 45%; margin: 0 auto; cursor: pointer; transition: all var(--transition-fast);">
<span style="color: white; font-weight: 700;">Propuestas</span>
<div style="display: flex; align-items: center; gap: var(--space-md);">
<span style="color: white; font-weight: 700;">189</span>
<i data-lucide="chevron-right" style="width: 14px; height: 14px; color: rgba(255,255,255,0.7);"></i>
</div>
</div>
<div class="funnel-stage" data-stage="closed" onclick="drillDownStage('closed')" onmouseout="unhighlightStage(this)" onmouseover="highlightStage(this)" style="position: relative; background: linear-gradient(135deg, var(--mep-success), #047857); height: 30px; border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: space-between; padding: 0 var(--space-lg); width: 25%; margin: 0 auto; cursor: pointer; transition: all var(--transition-fast);">
<span style="color: white; font-weight: 700;">Cerrados</span>
<div style="display: flex; align-items: center; gap: var(--space-md);">
<span style="color: white; font-weight: 700;">167</span>
<i data-lucide="check" style="width: 16px; height: 16px; color: white;"></i>
</div>
</div>
</div>
<!-- Conversion Rates Panel -->
<div style="position: absolute; right: var(--space-lg); top: 50%; transform: translateY(-50%);">
<div style="background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(15px); padding: var(--space-lg); border-radius: var(--radius-xl); border: 1px solid var(--border-primary); box-shadow: var(--shadow-lg);">
<h5 style="font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-md); text-align: center;">Conversiones</h5>
<div class="space-y-2">
<div style="display: flex; justify-content: space-between; font-size: var(--font-size-sm);">
<span style="color: var(--text-secondary);">Prospect → Lead:</span>
<span style="color: var(--mep-primary-600); font-weight: 700;">47.1%</span>
</div>
<div style="display: flex; justify-content: space-between; font-size: var(--font-size-sm);">
<span style="color: var(--text-secondary);">Lead → Oportunidad:</span>
<span style="color: var(--mep-warning); font-weight: 700;">34.0%</span>
</div>
<div style="display: flex; justify-content: space-between; font-size: var(--font-size-sm);">
<span style="color: var(--text-secondary);">Oportunidad → Propuesta:</span>
<span style="color: #8B5CF6; font-weight: 700;">41.4%</span>
</div>
<div style="display: flex; justify-content: space-between; font-size: var(--font-size-sm);">
<span style="color: var(--text-secondary);">Propuesta → Cierre:</span>
<span style="color: var(--mep-success); font-weight: 700;">88.4%</span>
</div>
</div>
</div>
</div>
</div>
</div>
<!-- Real-time Activity & AI Insights -->
<div class="space-y-6">
<div class="card">
<h3 style="font-size: var(--font-size-xl); font-weight: 800; color: var(--text-primary); margin-bottom: var(--space-xl); display: flex; align-items: center; gap: var(--space-sm);">
<div style="width: 12px; height: 12px; background: var(--mep-success); border-radius: var(--radius-full); animation: pulse 2s infinite;"></div>
                            Actividad Live
                        </h3>
<div class="space-y-4" style="max-height: 300px; overflow-y: auto;">
<div class="activity-item" style="display: flex; align-items: start; gap: var(--space-md); padding: var(--space-md); border: 1px solid var(--border-primary); border-radius: var(--radius-lg); transition: all var(--transition-fast);">
<div style="width: 40px; height: 40px; background: var(--bg-sidebar-active); border-radius: var(--radius-full); display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
<i data-lucide="handshake" style="width: 20px; height: 20px; color: white;"></i>
</div>
<div style="flex: 1;">
<div style="font-weight: 600; color: var(--text-primary); margin-bottom: 2px;">Deal cerrado - €78,500</div>
<div style="font-size: var(--font-size-sm); color: var(--text-secondary); margin-bottom: 4px;">TechSolutions Inc. - Sistema ERP Enterprise</div>
<div style="font-size: var(--font-size-xs); color: var(--text-tertiary);">hace 5 minutos • Ana López</div>
</div>
<span class="badge badge-success">Cerrado</span>
</div>
<div class="activity-item" style="display: flex; align-items: start; gap: var(--space-md); padding: var(--space-md); border: 1px solid var(--border-primary); border-radius: var(--radius-lg); transition: all var(--transition-fast);">
<div style="width: 40px; height: 40px; background: linear-gradient(135deg, var(--mep-info), #1D4ED8); border-radius: var(--radius-full); display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
<i data-lucide="user-plus" style="width: 20px; height: 20px; color: white;"></i>
</div>
<div style="flex: 1;">
<div style="font-weight: 600; color: var(--text-primary); margin-bottom: 2px;">Nuevo lead calificado</div>
<div style="font-size: var(--font-size-sm); color: var(--text-secondary); margin-bottom: 4px;">Digital Innovations S.L. - Score: 89/100</div>
<div style="font-size: var(--font-size-xs); color: var(--text-tertiary);">hace 8 minutos • Automatización</div>
</div>
<span class="badge badge-primary">Hot Lead</span>
</div>
<div class="activity-item" style="display: flex; align-items: start; gap: var(--space-md); padding: var(--space-md); border: 1px solid var(--border-primary); border-radius: var(--radius-lg); transition: all var(--transition-fast);">
<div style="width: 40px; height: 40px; background: linear-gradient(135deg, var(--mep-warning), #EA580C); border-radius: var(--radius-full); display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
<i data-lucide="calendar" style="width: 20px; height: 20px; color: white;"></i>
</div>
<div style="flex: 1;">
<div style="font-weight: 600; color: var(--text-primary); margin-bottom: 2px;">Reunión programada</div>
<div style="font-size: var(--font-size-sm); color: var(--text-secondary); margin-bottom: 4px;">Manufacturas del Sur - Demo personalizada</div>
<div style="font-size: var(--font-size-xs); color: var(--text-tertiary);">mañana 10:00 • Carlos Gómez</div>
</div>
<span class="badge badge-warning">Programada</span>
</div>
<div class="activity-item" style="display: flex; align-items: start; gap: var(--space-md); padding: var(--space-md); border: 1px solid var(--border-primary); border-radius: var(--radius-lg); transition: all var(--transition-fast);">
<div style="width: 40px; height: 40px; background: linear-gradient(135deg, #8B5CF6, #7C3AED); border-radius: var(--radius-full); display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
<i data-lucide="mail" style="width: 20px; height: 20px; color: white;"></i>
</div>
<div style="flex: 1;">
<div style="font-weight: 600; color: var(--text-primary); margin-bottom: 2px;">Campaña enviada</div>
<div style="font-size: var(--font-size-sm); color: var(--text-secondary); margin-bottom: 4px;">"Q3 Product Updates" - 1,247 destinatarios</div>
<div style="font-size: var(--font-size-xs); color: var(--text-tertiary);">hace 1 hora • Marketing Automation</div>
</div>
<span class="badge" style="background: #8B5CF6; color: white;">Enviada</span>
</div>
</div>
</div>
<!-- AI Insights -->
<div class="card">
<h3 style="font-size: var(--font-size-xl); font-weight: 800; color: var(--text-primary); margin-bottom: var(--space-xl); display: flex; align-items: center; gap: var(--space-sm);">
<i data-lucide="brain" style="width: 20px; height: 20px; color: #8B5CF6;"></i>
                            AI Insights
                        </h3>
<div class="space-y-4">
<div style="padding: var(--space-lg); background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(124, 58, 237, 0.05)); border: 1px solid rgba(139, 92, 246, 0.2); border-radius: var(--radius-xl);">
<div style="display: flex; align-items: center; gap: var(--space-sm); margin-bottom: var(--space-md);">
<i data-lucide="alert-triangle" style="width: 16px; height: 16px; color: var(--mep-success);"></i>
<span style="font-weight: 700; color: var(--mep-success);">Cliente en Riesgo</span>
</div>
<div style="color: var(--text-primary); font-weight: 600; margin-bottom: var(--space-sm);">Grupo Innovación</div>
<div style="color: var(--text-secondary); font-size: var(--font-size-sm);">Sin actividad por 45 días • Acción recomendada: Llamada</div>
</div>
</div>
</div>
</div>
</div>
<!-- Customer Segmentation & Geographic Analytics -->
<div class="grid" style="grid-template-columns: 1fr 1fr; gap: var(--space-2xl);">
<div class="card">
<h3 style="font-size: var(--font-size-xl); font-weight: 800; color: var(--text-primary); margin-bottom: var(--space-xl);">Segmentación de Clientes</h3>
<div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: var(--space-lg); margin-bottom: var(--space-xl);">
<div style="text-align: center; padding: var(--space-lg); background: var(--bg-tertiary); border-radius: var(--radius-xl); border: 2px solid var(--mep-success);">
<div style="font-size: var(--font-size-3xl); font-weight: 900; color: var(--mep-success); margin-bottom: var(--space-sm);">456</div>
<div style="font-size: var(--font-size-sm); color: var(--text-secondary); font-weight: 600; margin-bottom: var(--space-xs);">CHAMPIONS</div>
<div style="font-size: var(--font-size-xs); color: var(--mep-success);">Alto valor • Frecuentes</div>
</div>
<div style="text-align: center; padding: var(--space-lg); background: var(--bg-tertiary); border-radius: var(--radius-xl); border: 2px solid var(--mep-info);">
<div style="font-size: var(--font-size-3xl); font-weight: 900; color: var(--mep-info); margin-bottom: var(--space-sm);">289</div>
<div style="font-size: var(--font-size-sm); color: var(--text-secondary); font-weight: 600; margin-bottom: var(--space-xs);">LEALES</div>
<div style="font-size: var(--font-size-xs); color: var(--mep-info);">Compras regulares</div>
</div>
<div style="text-align: center; padding: var(--space-lg); background: var(--bg-tertiary); border-radius: var(--radius-xl); border: 2px solid var(--mep-warning);">
<div style="font-size: var(--font-size-3xl); font-weight: 900; color: var(--mep-warning); margin-bottom: var(--space-sm);">167</div>
<div style="font-size: var(--font-size-sm); color: var(--text-secondary); font-weight: 600; margin-bottom: var(--space-xs);">POTENCIALES</div>
<div style="font-size: var(--font-size-xs); color: var(--mep-warning);">Desarrollo activo</div>
</div>
<div style="text-align: center; padding: var(--space-lg); background: var(--bg-tertiary); border-radius: var(--radius-xl); border: 2px solid var(--mep-error);">
<div style="font-size: var(--font-size-3xl); font-weight: 900; color: var(--mep-error); margin-bottom: var(--space-sm);">89</div>
<div style="font-size: var(--font-size-sm); color: var(--text-secondary); font-weight: 600; margin-bottom: var(--space-xs);">EN RIESGO</div>
<div style="font-size: var(--font-size-xs); color: var(--mep-error);">Requieren atención</div>
</div>
</div>
<!-- Customer Lifecycle -->
<div>
<h4 style="font-weight: 700; color: var(--text-primary); margin-bottom: var(--space-md);">Customer Lifecycle</h4>
<div class="space-y-3">
<div style="display: flex; justify-content: space-between; align-items: center;">
<span style="color: var(--text-secondary); font-size: var(--font-size-sm);">Nuevos Clientes (0-6 meses)</span>
<span style="color: var(--text-primary); font-weight: 700;">234</span>
</div>
<div style="display: flex; justify-content: space-between; align-items: center;">
<span style="color: var(--text-secondary); font-size: var(--font-size-sm);">Crecimiento (6-18 meses)</span>
<span style="color: var(--text-primary); font-weight: 700;">456</span>
</div>
<div style="display: flex; justify-content: space-between; align-items: center;">
<span style="color: var(--text-secondary); font-size: var(--font-size-sm);">Maduros (18+ meses)</span>
<span style="color: var(--text-primary); font-weight: 700;">312</span>
</div>
</div>
</div>
</div>
<div class="card">
<h3 style="font-size: var(--font-size-xl); font-weight: 800; color: var(--text-primary); margin-bottom: var(--space-xl);">Distribución Geográfica</h3>
<div class="space-y-4">
<div style="display: flex; justify-content: space-between; align-items: center; padding: var(--space-md); background: var(--bg-tertiary); border-radius: var(--radius-lg);">
<div style="display: flex; align-items: center; gap: var(--space-md);">
<div style="width: 32px; height: 20px; background: linear-gradient(135deg, var(--mep-primary-500), var(--mep-primary-600)); border-radius: var(--radius-sm);"></div>
<span style="font-weight: 600; color: var(--text-primary);">Andalucía</span>
</div>
<div style="text-align: right;">
<div style="font-weight: 700; color: var(--mep-primary-600);">€856K</div>
<div style="font-size: var(--font-size-xs); color: var(--text-secondary);">34% del total</div>
</div>
</div>
<div style="display: flex; justify-content: space-between; align-items: center; padding: var(--space-md); background: var(--bg-tertiary); border-radius: var(--radius-lg);">
<div style="display: flex; align-items: center; gap: var(--space-md);">
<div style="width: 32px; height: 20px; background: linear-gradient(135deg, var(--mep-info), #1D4ED8); border-radius: var(--radius-sm);"></div>
<span style="font-weight: 600; color: var(--text-primary);">Madrid</span>
</div>
<div style="text-align: right;">
<div style="font-weight: 700; color: var(--mep-info);">€689K</div>
<div style="font-size: var(--font-size-xs); color: var(--text-secondary);">28% del total</div>
</div>
</div>
<div style="display: flex; justify-content: space-between; align-items: center; padding: var(--space-md); background: var(--bg-tertiary); border-radius: var(--radius-lg);">
<div style="display: flex; align-items: center; gap: var(--space-md);">
<div style="width: 32px; height: 20px; background: linear-gradient(135deg, var(--mep-warning), #EA580C); border-radius: var(--radius-sm);"></div>
<span style="font-weight: 600; color: var(--text-primary);">Cataluña</span>
</div>
<div style="text-align: right;">
<div style="font-weight: 700; color: var(--mep-warning);">€467K</div>
<div style="font-size: var(--font-size-xs); color: var(--text-secondary);">19% del total</div>
</div>
</div>
<div style="display: flex; justify-content: space-between; align-items: center; padding: var(--space-md); background: var(--bg-tertiary); border-radius: var(--radius-lg);">
<div style="display: flex; align-items: center; gap: var(--space-md);">
<div style="width: 32px; height: 20px; background: linear-gradient(135deg, var(--mep-success), #047857); border-radius: var(--radius-sm);"></div>
<span style="font-weight: 600; color: var(--text-primary);">Valencia</span>
</div>
<div style="text-align: right;">
<div style="font-weight: 700; color: var(--mep-success);">€234K</div>
<div style="font-size: var(--font-size-xs); color: var(--text-secondary);">9% del total</div>
</div>
</div>
<div style="display: flex; justify-content: space-between; align-items: center; padding: var(--space-md); background: var(--bg-tertiary); border-radius: var(--radius-lg);">
<div style="display: flex; align-items: center; gap: var(--space-md);">
<div style="width: 32px; height: 20px; background: linear-gradient(135deg, #8B5CF6, #7C3AED); border-radius: var(--radius-sm);"></div>
<span style="font-weight: 600; color: var(--text-primary);">Otras regiones</span>
</div>
<div style="text-align: right;">
<div style="font-weight: 700; color: #8B5CF6;">€254K</div>
<div style="font-size: var(--font-size-xs); color: var(--text-secondary);">10% del total</div>
</div>
</div>
</div>
<!-- Market Expansion Opportunities -->
<div style="margin-top: var(--space-xl); padding: var(--space-lg); background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(29, 78, 216, 0.05)); border: 1px solid rgba(59, 130, 246, 0.2); border-radius: var(--radius-xl);">
<h5 style="font-weight: 700; color: var(--mep-info); margin-bottom: var(--space-sm);">Oportunidad de Expansión</h5>
<p style="color: var(--text-secondary); font-size: var(--font-size-sm);">País Vasco y Galicia muestran potencial de crecimiento del 45% según análisis de mercado.</p>
</div>
</div>
</div>
</div>
<!-- LEADS TAB -->
<div class="crm-tab-content hidden" id="crm-leads">
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-xl);">
<div>
<h3 style="font-size: var(--font-size-2xl); font-weight: 800; color: var(--text-primary);">Gestión de Leads</h3>
<p style="color: var(--text-secondary);">Administra y califica nuevas oportunidades de negocio</p>
</div>
<div style="display: flex; gap: var(--space-md);">
<button class="btn btn-secondary" onclick="importLeads()">
<i data-lucide="upload" style="width: 18px; height: 18px;"></i>
                        Importar Leads
                    </button>
<button class="btn btn-secondary" onclick="showLeadFilters()">
<i data-lucide="filter" style="width: 18px; height: 18px;"></i>
                        Filtros
                    </button>
<button class="btn btn-primary" onclick="showNewLeadModal()">
<i data-lucide="user-plus" style="width: 18px; height: 18px;"></i>
                        Nuevo Lead
                    </button>
</div>
</div>
<!-- Lead Statistics -->
<div class="grid grid-cols-4" style="margin-bottom: var(--space-2xl);">
<div class="stat-card">
<div class="stat-header">
<div class="stat-content">
<h3>Total Leads</h3>
<p>1,847</p>
<div class="stat-trend stat-trend-positive">
<i data-lucide="trending-up" style="width: 16px; height: 16px;"></i>
<span>+147 esta semana</span>
</div>
</div>
<div class="stat-icon" style="background: linear-gradient(135deg, var(--mep-info), #1D4ED8);">
<i data-lucide="users" style="width: 28px; height: 28px;"></i>
</div>
</div>
</div>
<div class="stat-card">
<div class="stat-header">
<div class="stat-content">
<h3>Leads Calificados</h3>
<p>456</p>
<div class="stat-trend stat-trend-positive">
<i data-lucide="check-circle" style="width: 16px; height: 16px;"></i>
<span>24.7% del total</span>
</div>
</div>
<div class="stat-icon" style="background: var(--bg-sidebar-active);">
<i data-lucide="target" style="width: 28px; height: 28px;"></i>
</div>
</div>
</div>
<div class="stat-card">
<div class="stat-header">
<div class="stat-content">
<h3>Score Promedio</h3>
<p>67/100</p>
<div class="stat-trend stat-trend-positive">
<i data-lucide="trending-up" style="width: 16px; height: 16px;"></i>
<span>+5 puntos vs mes anterior</span>
</div>
</div>
<div class="stat-icon" style="background: linear-gradient(135deg, var(--mep-warning), #EA580C);">
<i data-lucide="award" style="width: 28px; height: 28px;"></i>
</div>
</div>
</div>
<div class="stat-card">
<div class="stat-header">
<div class="stat-content">
<h3>Tiempo de Respuesta</h3>
<p>2.3h</p>
<div class="stat-trend stat-trend-positive">
<i data-lucide="clock" style="width: 16px; height: 16px;"></i>
<span>-45min mejora</span>
</div>
</div>
<div class="stat-icon" style="background: linear-gradient(135deg, var(--mep-success), #047857);">
<i data-lucide="timer" style="width: 28px; height: 28px;"></i>
</div>
</div>
</div>
</div>
<!-- Lead Filters & Views -->
<div class="card" style="margin-bottom: var(--space-xl);">
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-lg);">
<div style="display: flex; gap: var(--space-md);">
<select style="padding: var(--space-sm) var(--space-md); border: 2px solid var(--border-primary); border-radius: var(--radius-lg); background: var(--bg-surface); color: var(--text-primary);">
<option value="all">Todos los leads</option>
<option value="hot">Hot Leads (80-100)</option>
<option value="warm">Warm Leads (50-79)</option>
<option value="cold">Cold Leads (0-49)</option>
</select>
<select style="padding: var(--space-sm) var(--space-md); border: 2px solid var(--border-primary); border-radius: var(--radius-lg); background: var(--bg-surface); color: var(--text-primary);">
<option value="all">Todas las fuentes</option>
<option value="website">Website</option>
<option value="social">Redes Sociales</option>
<option value="email">Email Marketing</option>
<option value="referral">Referencias</option>
<option value="events">Eventos</option>
</select>
<select style="padding: var(--space-sm) var(--space-md); border: 2px solid var(--border-primary); border-radius: var(--radius-lg); background: var(--bg-surface); color: var(--text-primary);">
<option value="all">Todos los sectores</option>
<option value="tech">Tecnología</option>
<option value="manufacturing">Manufactura</option>
<option value="retail">Retail</option>
<option value="healthcare">Salud</option>
<option value="finance">Finanzas</option>
</select>
</div>
<div style="display: flex; gap: var(--space-sm);">
<button class="btn btn-ghost" id="lead-list-btn" onclick="switchLeadView('list')">
<i data-lucide="list" style="width: 18px; height: 18px;"></i>
</button>
<button class="btn btn-ghost" id="lead-kanban-btn" onclick="switchLeadView('kanban')">
<i data-lucide="columns" style="width: 18px; height: 18px;"></i>
</button>
<button class="btn btn-ghost" id="lead-pipeline-btn" onclick="switchLeadView('pipeline')">
<i data-lucide="git-branch" style="width: 18px; height: 18px;"></i>
</button>
</div>
</div>
<!-- List View -->
<div class="lead-view active" id="lead-list-view">
<div style="overflow-x: auto;">
<table style="width: 100%; border-collapse: collapse;">
<thead>
<tr style="background: var(--bg-tertiary);">
<th style="padding: var(--space-md); text-align: left; font-weight: 700; border-bottom: 1px solid var(--border-primary);">
<input style="margin-right: var(--space-sm);" type="checkbox"/> Lead
                                    </th>
<th style="padding: var(--space-md); text-align: left; font-weight: 700; border-bottom: 1px solid var(--border-primary);">Score</th>
<th style="padding: var(--space-md); text-align: left; font-weight: 700; border-bottom: 1px solid var(--border-primary);">Fuente</th>
<th style="padding: var(--space-md); text-align: left; font-weight: 700; border-bottom: 1px solid var(--border-primary);">Valor Est.</th>
<th style="padding: var(--space-md); text-align: left; font-weight: 700; border-bottom: 1px solid var(--border-primary);">Asignado a</th>
<th style="padding: var(--space-md); text-align: left; font-weight: 700; border-bottom: 1px solid var(--border-primary);">Estado</th>
<th style="padding: var(--space-md); text-align: center; font-weight: 700; border-bottom: 1px solid var(--border-primary);">Acciones</th>
</tr>
</thead>
<tbody>
<tr onmouseout="this.style.background='transparent'" onmouseover="this.style.background='var(--bg-tertiary)'" style="transition: background-color var(--transition-fast);">
<td style="padding: var(--space-md); border-bottom: 1px solid var(--border-primary);">
<div style="display: flex; align-items: center; gap: var(--space-md);">
<input type="checkbox"/>
<div style="width: 40px; height: 40px; background: var(--bg-sidebar-active); border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: center; color: white; font-weight: 700;">DI</div>
<div>
<div style="font-weight: 600; color: var(--text-primary);">Digital Innovations S.L.</div>
<div style="font-size: var(--font-size-sm); color: var(--text-secondary);">María García • Directora IT</div>
<div style="font-size: var(--font-size-xs); color: var(--text-tertiary);">maria.garcia@digitalinnovations.com</div>
</div>
</div>
</td>
<td style="padding: var(--space-md); border-bottom: 1px solid var(--border-primary);">
<div style="display: flex; align-items: center; gap: var(--space-sm);">
<div style="width: 50px; height: 6px; background: var(--bg-tertiary); border-radius: var(--radius-full); overflow: hidden;">
<div style="width: 89%; height: 100%; background: var(--mep-success); border-radius: var(--radius-full);"></div>
</div>
<span style="font-weight: 700; color: var(--mep-success); font-size: var(--font-size-sm);">89</span>
</div>
<div style="font-size: var(--font-size-xs); color: var(--mep-success); margin-top: 2px;">Hot Lead</div>
</td>
<td style="padding: var(--space-md); border-bottom: 1px solid var(--border-primary);">
<span class="badge" style="background: linear-gradient(135deg, var(--mep-info), #1D4ED8); color: white;">Website</span>
</td>
<td style="padding: var(--space-md); border-bottom: 1px solid var(--border-primary); font-weight: 700; color: var(--mep-success);">€45,000</td>
<td style="padding: var(--space-md); border-bottom: 1px solid var(--border-primary);">
<div style="display: flex; align-items: center; gap: var(--space-sm);">
<div style="width: 24px; height: 24px; background: var(--bg-sidebar-active); border-radius: var(--radius-full); display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: var(--font-size-xs);">AL</div>
<span style="font-size: var(--font-size-sm); color: var(--text-primary);">Ana López</span>
</div>
</td>
<td style="padding: var(--space-md); border-bottom: 1px solid var(--border-primary);">
<div style="display: flex; align-items: center; gap: var(--space-xs);">
<div style="width: 8px; height: 8px; background: var(--mep-warning); border-radius: var(--radius-full); animation: pulse 2s infinite;"></div>
<span style="color: var(--mep-warning); font-weight: 600; font-size: var(--font-size-sm);">Contactando</span>
</div>
</td>
<td style="padding: var(--space-md); border-bottom: 1px solid var(--border-primary); text-align: center;">
<div style="display: flex; gap: var(--space-xs); justify-content: center;">
<button class="btn btn-ghost" onclick="viewLead('digital-innovations')" style="padding: 6px;">
<i data-lucide="eye" style="width: 14px; height: 14px;"></i>
</button>
<button class="btn btn-ghost" onclick="editLead('digital-innovations')" style="padding: 6px;">
<i data-lucide="edit-3" style="width: 14px; height: 14px;"></i>
</button>
<button class="btn btn-ghost" onclick="convertLead('digital-innovations')" style="padding: 6px;">
<i data-lucide="arrow-right" style="width: 14px; height: 14px;"></i>
</button>
</div>
</td>
</tr>
<!-- More lead rows would go here -->
<tr onmouseout="this.style.background='transparent'" onmouseover="this.style.background='var(--bg-tertiary)'" style="transition: background-color var(--transition-fast);">
<td style="padding: var(--space-md); border-bottom: 1px solid var(--border-primary);">
<div style="display: flex; align-items: center; gap: var(--space-md);">
<input type="checkbox"/>
<div style="width: 40px; height: 40px; background: linear-gradient(135deg, var(--mep-warning), #EA580C); border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: center; color: white; font-weight: 700;">MS</div>
<div>
<div style="font-weight: 600; color: var(--text-primary);">MegaSoft Solutions</div>
<div style="font-size: var(--font-size-sm); color: var(--text-secondary);">Carlos Rodríguez • CTO</div>
<div style="font-size: var(--font-size-xs); color: var(--text-tertiary);">carlos.rodriguez@megasoft.com</div>
</div>
</div>
</td>
<td style="padding: var(--space-md); border-bottom: 1px solid var(--border-primary);">
<div style="display: flex; align-items: center; gap: var(--space-sm);">
<div style="width: 50px; height: 6px; background: var(--bg-tertiary); border-radius: var(--radius-full); overflow: hidden;">
<div style="width: 72%; height: 100%; background: var(--mep-warning); border-radius: var(--radius-full);"></div>
</div>
<span style="font-weight: 700; color: var(--mep-warning); font-size: var(--font-size-sm);">72</span>
</div>
<div style="font-size: var(--font-size-xs); color: var(--mep-warning); margin-top: 2px;">Warm Lead</div>
</td>
<td style="padding: var(--space-md); border-bottom: 1px solid var(--border-primary);">
<span class="badge" style="background: linear-gradient(135deg, #8B5CF6, #7C3AED); color: white;">Referido</span>
</td>
<td style="padding: var(--space-md); border-bottom: 1px solid var(--border-primary); font-weight: 700; color: var(--mep-success);">€78,500</td>
<t<i data-lucide="trending-up" style="width: 16px; height: 16px; color: #8B5CF6;">
<span style="font-weight: 700; color: #8B5CF6;">Oportunidad Upselling</span>
</t<i></tr></tbody></table></div>
<div style="color: var(--text-primary); font-weight: 600; margin-bottom: var(--space-sm);">TechSolutions Inc.</div>
<div style="color: var(--text-secondary); font-size: var(--font-size-sm);">92% probabilidad de expansión • Potencial: €156K</div>
</div>
<div style="padding: var(--space-lg); background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(6, 78, 59, 0.05)); border: 1px solid rgba(16, 185, 129, 0.2); border-radius: var(--radius-xl);">
<div style="display: flex; align-items: center; gap: var(--space-sm); margin-bottom: var(--space-md);">
</div></div></div></div></div></div></button></div></div></div></div></div></div></div></div></div>